### Reestructuración de Base de Datos y Mejoras en el Sistema

#### Reglas y Documentación

- Se añadió archivo `.SQLRules.mdc` con reglas para:
  - Uso de procedimientos almacenados
  - Ubicación de archivos
  - Convenciones de nombres
  - Versionamiento

#### Base de Datos

##### Reestructuración de Tablas

- **Nuevas Tablas**:

  - Creación de nueva estructura para `Agency` con campos adicionales como `AgencyCode`
  - Reorganización de tablas `City`, `Region` y `CityRegion`

- **Eliminaciones**:
  - Eliminado `Tables-2.sql` y renombrado `Tables.sql` a `Tables-Deprecado.sql`
  - Removidas tablas obsoletas relacionadas con usuarios y gestión de agencias

##### Procedimientos Almacenados

- **Nuevos Archivos Consolidados**:

  - `101_AllStoredProceduresForAgency.sql`
  - `101_AllStoredProceduresForCityRegion.sql`

- **Actualizaciones**:
  - Versión 101 de procedimientos para gestión de agencias
  - Nuevos procedimientos para manejo de ciudades y regiones
  - Mejoras en la gestión de relaciones ciudad-región

#### Modelos y DTOs

- **DTOAgency**:
  - Añadida propiedad `AgencyCode`
  - Actualización de propiedades relacionadas con ubicación

#### Repositorios

- **AgencyRepository**:
  - Actualización a versión 101 de procedimientos almacenados
  - Implementación de generación de códigos únicos para agencias
  - Mejoras en el manejo de parámetros

#### Utilidades

- **Nuevo Sistema de Códigos**:
  - Implementado `GenerateAgencyCode` para crear identificadores únicos
  - Métodos auxiliares para generación de iniciales
  - Sistema de secuencia numérica por año

#### Configuración

- **Actualizaciones de Base de Datos**:
  - Desarrollo: Cambio de `AESAN-2` a `NUTRE`
  - Producción: Cambio de `aesandb` a `aesan2`

#### Datos Iniciales

- **Carga de Datos**:
  - Inserción de 7 regiones principales
  - Carga de 78 ciudades
  - Establecimiento de relaciones ciudad-región
  - Datos iniciales para agencia AESAN

#### Mejoras Generales

- Implementación de versionamiento para procedimientos almacenados
- Mejor organización de archivos de base de datos
- Optimización de consultas y relaciones
- Implementación de sistema de códigos únicos para agencias

Estos cambios representan una significativa reestructuración del sistema, mejorando la organización de la base de datos y añadiendo nuevas funcionalidades para la gestión de agencias.
